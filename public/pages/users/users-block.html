<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Hunebed Experience | Block Users</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.7 -->
    <link rel="stylesheet" href="../../bower_components/bootstrap/dist/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="../../bower_components/font-awesome/css/font-awesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="../../bower_components/Ionicons/css/ionicons.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="../../dist/css/AdminLTE.min.css">
    <!-- AdminLTE Skins. Choose a skin from the css/skins
        folder instead of downloading all of them to reduce the load. -->
    <link rel="stylesheet" href="../../dist/css/skins/_all-skins.min.css">
    <!-- Google Font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:300,300i,400,400i,600,600i,700&display=swap">
  </head>
  <body class="hold-transition skin-blue-light sidebar-mini">
    <div class="wrapper">

      <!-- Main header -->
      <div id="main-header"></div>

      <!-- Left side column. contains the logo and sidebar -->
      <aside id="main-sidebar" class="main-sidebar">
        <section class="sidebar">
          <!-- sidebar menu: : style can be found in sidebar.less -->
          <ul class="sidebar-menu" data-widget="tree">
            <li class="header">MAIN NAVIGATION</li>
            <li class="treeview">
              <a href="#">
                <i class="fa fa-desktop"></i>
                <span>Dashboard</span>
                <span class="pull-right-container">
                <i class="fa fa-angle-left pull-right"></i>
                </span>
              </a>
              <ul class="treeview-menu">
                <li><a href="../../pages/dashboard/statistics.html"><i class="fa fa-area-chart"></i> Statistics</a></li>
                <li><a href="../../pages/dashboard/timeline.html"><i class="fa fa-rss"></i> Feed</a></li>
              </ul>
            </li>      
            
            <li class="treeview">
              <a href="#">
                <i class="fa fa-lock"></i>
                <span>Admins</span>
                <span class="pull-right-container">
                <i class="fa fa-angle-left pull-right"></i>
                </span>
              </a>
              <ul class="treeview-menu">
                <li><a href="../../pages/admin/admin-add.html"><i class="fa fa-user-plus"></i> Add Admin</a></li>
                <li><a href="../../pages/admin/admin-manage.html"><i class="fa fa-circle-o"></i> Manage Admins</a></li>
              </ul>
            </li>  
        
            <li class="active treeview menu-open">
              <a href="#">
                <i class="fa fa-users"></i> <span>Users</span>
                <span class="pull-right-container">
                  <i class="fa fa-angle-left pull-right"></i>
                </span>
              </a>
              <ul class="treeview-menu">
                <li class="active"><a href="../../pages/users/users-block.html"><i class="fa fa-ban"></i> Block Users</a></li>
                <li><a href="../../pages/users/users-manage.html"><i class="fa fa-circle-o"></i> Manage Blocked Users</a></li>
              </ul>
            </li>
            <li class="treeview">
              <a href="#">
                <i class="fa fa-map-marker"></i> <span>Attractions</span>
                <span class="pull-right-container">
                  <i class="fa fa-angle-left pull-right"></i>
                </span>
              </a>
              <ul class="treeview-menu">
                  <li class="treeview">
                    <a href="#">
                      <i class="fa fa-map-pin"></i>
                      <span>Attractions</span>
                      <span class="pull-right-container">
                        <i class="fa fa-angle-left pull-right"></i>
                      </span>
                    </a>
                    <ul class="treeview-menu">
                      <li><a href="../../pages/locations/attractions/attraction-add.html"><i class="fa fa-plus"></i> Add Attraction</a></li>
                      <li><a href="../../pages/locations/attractions/attractions-manage.html"><i class="fa fa-circle-o"></i> Manage Attractions</a></li>
                    </ul>
                  </li>          
                  <li class="treeview">
                    <a href="#">
                      <i class="fa fa-book"></i>
                      <span>Stories</span>
                      <span class="pull-right-container">
                        <i class="fa fa-angle-left pull-right"></i>
                      </span>
                    </a>
                    <ul class="treeview-menu">
                      <li><a href="../../pages/locations/elements/element-add.html"><i class="fa fa-plus"></i> Add Story</a></li>
                      <li><a href="../../pages/locations/elements/elements-manage.html"><i class="fa fa-circle-o"></i> Manage Stories</a></li>           
                    </ul>
                  </li>          
                </ul>
            </li>
            <li class="treeview">
              <a href="#">
                <i class="fa fa-exclamation"></i> <span>User Submissions</span>
                <span class="pull-right-container">
                  <i class="fa fa-angle-left pull-right"></i>
                </span>
              </a>
              <ul class="treeview-menu">
              <li><a href="../../pages/user_requests/ratings.html"><i class="fa fa-star"></i> View Ratings</a></li>
              <li><a href="../../pages/user_requests/comments-manage.html"><i class="fa fa-comment-o"></i> Manage Comments</a></li>
              </ul>
            </li>
          </ul>
        </section>
      </aside>

      <!-- Content Wrapper. Contains page content -->
      <div class="content-wrapper">

        <section class="content-header">
            <h1>
              Block Users
              <small>Users</small>
            </h1>
            <ol class="breadcrumb">
              <li><a href="#"><i class="fa fa-dashboard"></i> Main</a></li>
              <li><a href="#">Users</a></li>
              <li class="active"><a href="#">Block Users</a></li>
            </ol>
          </section>
          <section class="content">
            <div class="box">
              <div class="box-header">
                <h3 class="box-title">Users</h3>
              </div>
              <!-- /.box-header -->
              <div class="box-body">
                <table id="usersTable" class="table table-bordered table-striped">
                  <thead>
                  <tr>
             
                      <th>User</th>
                      <th>Email</th>
                      <th>Visited Attractions</th>
                      <th></th>

                  </tr>
                  </thead>
                  <tbody>

                  </tbody>
                  <tfoot>
                  <tr>
                   
                      <th>User</th>
                      <th>Email</th>
                      <th>Visited Attractions</th>
                      <th></th>
                  </tr>
                  </tfoot>
                </table>
              </div>
              <!-- /.box-body -->
            </div>     
          </section>
        </div>
      <!-- /.content-wrapper -->

      <!-- Main footer -->
      <div id="main-footer"></div>
    </div>
    <!-- ./wrapper -->

    <!-- jQuery 3 -->
    <script src="../../bower_components/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap 3.3.7 -->
    <script src="../../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script>
      //Header import script
      $.ajax({
          url:'../../layout/header.html',
          type:'GET',
          success: function(data){
            $('#main-header').html($(data).html());
          }
        });
        //Footer import script
        $.ajax({
          url:'../../layout/footer.html',
          type:'GET',
          success: function(data){
            $('#main-footer').html($(data).html());
          }
        });
    </script>
    <!-- JS for managing users -->
    <script src="https://www.gstatic.com/firebasejs/4.3.0/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.0.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.0.2/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.0.2/firebase-firestore.js"></script>
    <script src="../../dist/js/connectivity.js"></script>
    <script src="../../dist/js/loggedIn.js"></script>
    <script src="manageusers.js"></script>
    <!-- FastClick -->
    <script src="../../bower_components/fastclick/lib/fastclick.js"></script>
    <!-- AdminLTE App -->
    <script src="../../dist/js/adminlte.min.js"></script>
    <!-- AdminLTE for demo purposes -->
    <script src="../../dist/js/demo.js"></script>
    <!--Data Tables-->
    <script src="../../bower_components/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="../../bower_components/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>

    <script>
        getAll(false);
        var table = $('#usersTable').DataTable({
          "columnDefs": [ {
                "targets": -1,
                "data": null,
                "defaultContent": "<button class='btn-warning'>Block</button>",
    
            } ]});
            $('#usersTable tbody').on( 'click', 'button', function () {
              var data = table.row( $(this).parents('tr') ).data();
              if(table.data().count() < 5){
                
                blockUser(data[0], true);
                table.rows().remove();
                table.draw()
              }else{
                
                blockUser(data[0], true);
              }
            //alert(name + " has been added!");
            //location.reload();
            } );
    </script>
  </body>
</html>
